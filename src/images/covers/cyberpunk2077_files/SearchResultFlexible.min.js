(window.webpackJsonpvtex_search_result_3_117_3=window.webpackJsonpvtex_search_result_3_117_3||[]).push([["SearchResultFlexible"],{0:function(e,t){e.exports=React},1:function(e,t){e.exports=R},15:function(e,t){e.exports=__RENDER_8_COMPONENTS__["vtex.styleguide@9.x/Button"]},17:function(e,t){e.exports=__RENDER_8_COMPONENTS__["vtex.store-icons@0.x/IconCaret"]},188:function(e,t,a){"use strict";a.r(t),function(e){var t=a(9);a.p=Object(t.getPublicPath)("vtex.search-result@3.117.3");var n=Object(t.register)((function(){return a(86)}),e,"vtex.search-result@3.117.3","vtex.search-result@3.x","SearchResultFlexible");n.renderHotReload,n.setupHMR}.call(this,a(16)(e))},2:function(e,t){e.exports=PropTypes},21:function(e,t){e.exports=__RENDER_8_COMPONENTS__["vtex.styleguide@9.x/Spinner"]},3:function(e,t){e.exports=__RENDER_8_COMPONENTS__["vtex.css-handles@0.x/useCssHandles"]},31:function(e,t){e.exports=__RENDER_8_COMPONENTS__["vtex.store-icons@0.x/IconGrid"]},32:function(e,t){e.exports=__RENDER_8_COMPONENTS__["vtex.store-icons@0.x/IconInlineGrid"]},33:function(e,t){e.exports=__RENDER_8_COMPONENTS__["vtex.store-icons@0.x/IconSingleGrid"]},38:function(e,t){e.exports=ReactApollo},4:function(e,t){e.exports=Classnames},5:function(e,t){e.exports=ReactIntl},51:function(e,t){e.exports=regeneratorRuntime},6:function(e,t){e.exports=__RENDER_8_COMPONENTS__["vtex.search-page-context@0.x/SearchPageContext"]},60:function(e,t){e.exports=__RENDER_8_COMPONENTS__["vtex.device-detector@0.x/withDevice"]},61:function(e,t){e.exports=__RENDER_8_COMPONENTS__["vtex.store-components@3.x/Container"]},7:function(e,t){e.exports=__RENDER_8_RUNTIME__},86:function(e,t,a){"use strict";a.r(t);var n=a(8),r=a(0),o=a.n(r),c=a(57),s=a(59),i=a(6),u=a(3),l=a.n(u),_=a(7),d=a(50),p=a(1),x=a(49),g=a(73),R=a(24),f=a(10),E=a.n(f),h={brands:[],priceRanges:[],specificationFilters:[],categoriesTrees:[]},m=["loadingOverlay"],O=function(e){var t=e.children,a=e.hiddenFacets,u=e.pagination,f=void 0===u?R.a.SHOW_MORE:u,O=e.mobileLayout,v=void 0===O?{mode1:"normal"}:O,N=e.defaultGalleryLayout,b=e.showProductsCount,y=e.blockClass,P=e.preventRouteChange,S=void 0!==P&&P,C=e.showFacetQuantity,I=void 0!==C&&C,F=e.searchQuery,M=e.maxItemsPerPage,T=e.map,w=e.params,L=e.priceRange,D=e.orderBy,j=e.page,H=e.facetsLoading,Q=e.trackingId,k=e.thresholdForFacetSearch,G=e.lazyItemsRemaining;f===R.a.INFINITE_SCROLL&&(f=R.a.SHOW_MORE,console.warn("Infinite scroll cannot be used in flexible search")),f=f===R.a.INFINITE_SCROLL?R.a.SHOW_MORE:f;var B=Object(p.pathOr)(h,["data","facets"],F),z=B.brands,W=B.brandsQuantity,q=B.priceRanges,A=B.specificationFilters,J=B.categoriesTrees,U=Object(r.useMemo)((function(){return Object(x.b)({specificationFilters:A,priceRanges:q,brands:z,brandsQuantity:W,hiddenFacets:a})}),[z,a,q,A,W]),V=l()(m),K=!T,X=a&&!1===a.categories&&J&&J.length>0||!K&&!Object(p.isEmpty)(U),Y=Object(_.useRuntime)().query,Z=Object(i.useSearchPageStateReducer)({mobileLayout:v.mode1,showContentLoader:F.loading,selectedGalleryLayout:Y.layout||N}),$=Object(n.a)(Z,2),ee=$[0],te=$[1];!function(e,t){var a=Object(r.useRef)(e.loading),n=a.current,o=e&&e.loading;Object(r.useEffect)((function(){n&&!o&&(a.current=!1,t({type:"HIDE_CONTENT_LOADER"}))}),[t,o,n])}(F,te);var ae=Object(r.useMemo)((function(){return{hiddenFacets:a,pagination:f,mobileLayout:v,showFacetQuantity:I,trackingId:Q,thresholdForFacetSearch:k}}),[a,v,f,I,Q,k]),ne=Object(r.useMemo)((function(){var e=U.flatMap((function(e){return e.facets.filter((function(e){return e.selected}))}));return{hiddenFacets:a,pagination:f,mobileLayout:v,searchQuery:F,page:j,maxItemsPerPage:M,map:T,params:w,priceRange:L,orderBy:D,showFacets:X,filters:U,showProductsCount:b,preventRouteChange:S,facetsLoading:H,lazyItemsRemaining:G,selectedFacets:e}}),[a,f,v,F,j,M,T,w,L,D,X,U,b,S,H,G]),re=F.loading&&!ee.isFetchingMore;return o.a.createElement(i.SearchPageContext.Provider,{value:ne},o.a.createElement(i.SearchPageStateContext.Provider,{value:ee},o.a.createElement(i.SearchPageStateDispatch.Provider,{value:te},o.a.createElement(c.a,{queryVariables:F.variables,settings:ae},o.a.createElement(s.a,{searchQuery:F,maxItemsPerPage:M,pagination:f,mobileLayout:v,map:T,params:w,priceRange:L,hiddenFacets:a,orderBy:D,page:j,facetsLoading:H,lazyItemsRemaining:G},o.a.createElement(g.a,{loading:re},o.a.createElement("div",{className:"".concat(V.loadingOverlay," w-100 flex flex-column flex-grow-1 ").concat(Object(d.a)(E.a["container--layout"],y))},t)))))))};O.schema={title:"admin/editor.search-result-desktop.title"},t.default=O}},[[188,"common",3,0,1,2]]]);