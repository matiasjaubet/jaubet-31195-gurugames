(window.webpackJsonpvtex_search_result_3_117_3=window.webpackJsonpvtex_search_result_3_117_3||[]).push([[8],{10:function(e,t,r){e.exports={container:"vtex-search-result-3-x-container",buttonShowMore:"vtex-search-result-3-x-buttonShowMore",filterTitleSpan:"vtex-search-result-3-x-filterTitleSpan",clearAllFilters:"vtex-search-result-3-x-clearAllFilters",switch:"vtex-search-result-3-x-switch",breadcrumb:"vtex-search-result-3-x-breadcrumb",richTitle:"vtex-search-result-3-x-richTitle",filters:"vtex-search-result-3-x-filters",filter__container:"vtex-search-result-3-x-filter__container",resultGallery:"vtex-search-result-3-x-resultGallery",gallery:"vtex-search-result-3-x-gallery",galleryTitle:"vtex-search-result-3-x-galleryTitle",filterPopupButton:"vtex-search-result-3-x-filterPopupButton",accordionFilter:"vtex-search-result-3-x-accordionFilter",filterAccordionItemBox:"vtex-search-result-3-x-filterAccordionItemBox",filterAccordionBreadcrumbs:"vtex-search-result-3-x-filterAccordionBreadcrumbs",filterButtonsBox:"vtex-search-result-3-x-filterButtonsBox",filterPopupFooter:"vtex-search-result-3-x-filterPopupFooter",accordionFilterItemOptions:"vtex-search-result-3-x-accordionFilterItemOptions",dropdownMobile:"vtex-search-result-3-x-dropdownMobile",accordionFilterItemActive:"vtex-search-result-3-x-accordionFilterItemActive",totalProducts:"vtex-search-result-3-x-totalProducts",orderBy:"vtex-search-result-3-x-orderBy",filterPopupTitle:"vtex-search-result-3-x-filterPopupTitle",filterPopupArrowIcon:"vtex-search-result-3-x-filterPopupArrowIcon",filterPopup:"vtex-search-result-3-x-filterPopup",filterPopupOpen:"vtex-search-result-3-x-filterPopupOpen",filterPopupContent:"vtex-search-result-3-x-filterPopupContent",filterPopupContentContainer:"vtex-search-result-3-x-filterPopupContentContainer",filterPopupContentContainerOpen:"vtex-search-result-3-x-filterPopupContentContainerOpen",orderByOptionsContainer:"vtex-search-result-3-x-orderByOptionsContainer",orderByOptionItem:"vtex-search-result-3-x-orderByOptionItem",sidebar:"vtex-search-result-3-x-sidebar",filterTitle:"vtex-search-result-3-x-filterTitle",filterQuantityBadgeDefault:"vtex-search-result-3-x-filterQuantityBadgeDefault","filters--layout":"vtex-search-result-3-x-filters--layout","buttonShowMore--layout":"vtex-search-result-3-x-buttonShowMore--layout","galleryTitle--layout":"vtex-search-result-3-x-galleryTitle--layout","totalProducts--layout":"vtex-search-result-3-x-totalProducts--layout","orderBy--layout":"vtex-search-result-3-x-orderBy--layout","container--layout":"vtex-search-result-3-x-container--layout","notFound--layout":"vtex-search-result-3-x-notFound--layout"}},109:function(e,t,r){"use strict";r.r(t);var n=r(8),a=r(13),c=r(12),i=r(4),o=r.n(i),l=r(0),s=r.n(l),u=r(95),d=r(7),f=r(18),p=r.n(f),m=r(3),v=r.n(m),b=r(14),h=r.n(b),O=r(6),y=r(1),g=r(5),E=r(15),j=r.n(E),F=r(120),C=r(62),w=r.n(C),R=r(28),P=r.n(R),x=r(29),S=r(17),T=r.n(S),A=r(21),I=r.n(A),_=r(71),M=r.n(_),L=r(72),k=r(23),N=r(48),B=["accordionFilterContainer","accordionFilterContent","accordionFilterItem","filterAccordionItemBox","accordionFilterItemActive","accordionFilterItemHidden","accordionFilterItemTitle","accordionFilterItemTag","accordionFilterItemIcon","accordionSelectedFilters"],D=function(e){var t=e.title,r=e.show,a=e.open,c=e.onOpen,i=e.selectedFilters,u=void 0===i?[]:i,d=e.children,f=e.appliedFiltersOverview,p=e.navigationType,m=e.initiallyCollapsed,b=e.onClearFilter,O=e.facetKey,y=e.showClearByFilter,E=Object(g.useIntl)(),j=v()(B),F="collapsible"===p,C=Object(l.useState)(m),w=Object(n.a)(C,2),R=w[0],P=w[1],x=function(e){F&&P((function(e){return!e})),c(e)},S=u.length,A=Object(N.b)(Object(k.b)(t,E));return s.a.createElement(l.Fragment,null,(!a||F)&&s.a.createElement("div",{className:"".concat(h()(j.accordionFilterContainer,A)," pl7")},s.a.createElement("div",{role:"button",tabIndex:0,className:o()(j.accordionFilterItem,h()(j.filterAccordionItemBox,A),"t-body pr5 pv3 pointer bb b--muted-5 outline-0",a&&j.accordionFilterItemActive,!r&&"".concat(j.accordionFilterItemHidden," dn")),onKeyDown:function(e){" "===e.key&&x(e)},onClick:x},s.a.createElement("div",{className:o()(j.accordionFilterContent,"pv4 c-on-base",a?"t-small":"t-heading-5")},s.a.createElement("span",{className:j.accordionFilterItemTitle},Object(k.b)(t,E)),0!==S&&s.a.createElement("div",{className:o()(j.accordionFilterItemTag,"dib ml3")},s.a.createElement(M.a,null,S)),S>0&&y&&s.a.createElement("span",{className:o()(j.accordionFilterItemTag,"dib ml3")},s.a.createElement(M.a,{size:"small",onClick:function(e){e.stopPropagation(),b&&b(O)}},s.a.createElement(g.FormattedMessage,{id:"store/search-result.filter-button.clear"}))),s.a.createElement("span",{className:"".concat(j.accordionFilterItemIcon," fr")},s.a.createElement(T.a,{orientation:!F||F&&R?"down":"up",size:10})),"show"===f&&S>0&&s.a.createElement("div",{className:o()(j.accordionSelectedFilters,"f6")},u.map((function(e){return e.name})).join(", "))))),F?s.a.createElement(L.Collapse,{isOpened:!R&&F},s.a.createElement("div",{className:"pl8"},d)):a&&d)},U=r(112),z=r(90);function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Q=function(e){var t,r,a,c,i,o=e.open,u=e.containerRef,d=e.children,f=(t=u,r=Object(l.useState)({left:0,top:0,width:0,height:0}),a=Object(n.a)(r,2),c=a[0],i=a[1],Object(l.useEffect)((function(){var e=!0,r=new z.a((function(t){var r=Object(n.a)(t,1)[0];e&&i(r.contentRect)}));return null!==t.current&&r.observe(t.current),function(){r.disconnect(),e=!1}}),[t]),c).height,p=Object(U.useSpring)({height:o?f:0});return s.a.createElement(U.animated.div,{style:q({overflow:"hidden"},p)},d)},H=function(e){var t=e.render,r=e.maxItems,a=e.threshold,c=e.items,i=e.openLabel,u=void 0===i?"store/filter.more-items":i,f=e.closedLabel,p=void 0===f?"store/filter.less-items":f,m=e.linkClassName,v=Object(l.useState)(!1),b=Object(n.a)(v,2),h=b[0],O=b[1],y=c.length>=r+a,E=Object(l.useRef)(null),j=c.length-r;return s.a.createElement(s.a.Fragment,null,c.slice(0,y?r:c.length).map(t),y&&c.length>r&&s.a.createElement(s.a.Fragment,null,s.a.createElement(d.NoSSR,null,s.a.createElement(Q,{open:h,containerRef:E},s.a.createElement("div",{className:"dib w-100","aria-hidden":!h,ref:E},c.slice(r).map(t)))),s.a.createElement("button",{className:o()(m,"flex items-center mt2 pv2 ph0 bg-base bn self-start tl c-muted-3 pointer"),onClick:function(){return O((function(e){return!e}))}},s.a.createElement("span",{className:"c-link"},s.a.createElement(g.FormattedMessage,{id:h?p:u,values:{quantity:j}})))))},V=r(91),G=r.n(V),K=["categoryItemChildren"],W=function(e){var t=e.label,r=e.onClick,n=e.className,a=e.href,c=e.categoryFiltersMode,i=v()(K);return"href"===c?s.a.createElement("a",{tabIndex:0,className:o()(i.categoryItemChildren,"ph5 ph3-ns pv5 pv1-ns lh-copy pointer hover-bg-muted-5 c-muted-1 db no-underline",n),onClick:function(e){e.preventDefault(),r()},href:a&&a.toLowerCase(),title:t,onKeyDown:function(e){return"Enter"===e.key&&r(e)},"data-testid":"categoryItem-".concat(t)},t):s.a.createElement("div",{tabIndex:0,role:"link",className:o()(i.categoryItemChildren,"ph5 ph3-ns pv5 pv1-ns lh-copy pointer hover-bg-muted-5 c-muted-1",n),onClick:r,onKeyDown:function(e){return"Enter"===e.key&&r(e)},"data-testid":"categoryItem-".concat(t)},t)},X=["categoryGroup","categoryParent","categoryItemName","selectedCategoryIcon","categoryItemChildrenContainer","selectedCategory","selectedCategoryName","selectedCategoryIcon"],$=function(e){var t=e.category,r=e.shallow,n=void 0!==r&&r,a=e.onCategorySelect,c=e.preventRouteChange,i=e.maxItemsCategory,l=e.categoryFiltersMode,u=Object(x.b)().map,d=v()(X),f=function(e){for(var t=e.children,r=[e];t;){var n=t.find((function(e){return e.selected}));if(!n)break;r.push(n),t=n.children}return r}(t),p=function(e){var t=f.slice(e);a(t,c)},m=f[f.length-1],b=-1===u.split(",").indexOf("c"),h=function(){b&&(n?a(t):p(0))};return s.a.createElement("div",{className:o()(d.categoryGroup,"mt4")},s.a.createElement("div",{role:"button",tabIndex:b?0:-1,className:o()(d.categoryParent,"flex items-center pointer"),onClick:h,onKeyDown:function(e){return"Enter"===e.key&&h()},"data-testid":"root-category-".concat(t.value)},s.a.createElement("div",{className:"flex-grow-1 dim"},s.a.createElement("span",{className:o()(d.categoryItemName,"f5 c-on-base")},t.name)),!n&&b&&s.a.createElement("span",{className:o()(d.selectedCategoryIcon,"flex items-center c-muted-3")},s.a.createElement(G.a,{size:14}))),s.a.createElement("div",{className:o()(d.categoryItemChildrenContainer,"pl5 pl0-ns")},f.slice(1).map((function(e,t){return s.a.createElement("span",{key:e.id,role:"button",tabIndex:0,className:o()(d.selectedCategory,"mt5 mt4-ns flex items-center justify-between pointer f5 f6-ns"),onClick:function(){return p(t+1)},onKeyDown:function(e){return"Enter"===e.key&&p(t+1)},"data-testid":"selected-category-".concat(e.value)},s.a.createElement("span",{className:d.selectedCategoryName},e.name),s.a.createElement("span",{className:o()(d.selectedCategoryIcon,"flex items-center c-muted-3")},s.a.createElement(G.a,{size:14})))})),m.children&&m.children.length>0&&s.a.createElement("div",{className:n?"mt2":"mt5 mt4-ns bl b--muted-4"},s.a.createElement(H,{items:m.children,maxItems:i,threshold:2,linkClassName:"ml3",openLabel:"store/filter.more-categories",render:function(e,r){return s.a.createElement(W,{key:e.id,href:e.href,categoryFiltersMode:l,className:0!==r||n?"":"mt2",onClick:function(){return a(n?[t,e]:e,c)},label:e.name})}}))))},J=["filter__container","filter","filterTitle","categoriesContainer"],Z=function(e){var t=e.title,r=e.isVisible,n=e.tree,a=e.onCategorySelect,c=e.hideBorder,i=void 0!==c&&c,l=e.preventRouteChange,u=e.maxItemsDepartment,d=e.maxItemsCategory,f=e.categoryFiltersMode,p=v()(J);if(!r||0===n.length)return null;var m=n.every((function(e){return!e.selected})),b=o()(h()(p.filter__container,"c"),!i&&"bb b--muted-4");return s.a.createElement("div",{className:b},t&&s.a.createElement("div",{className:o()(p.filter,"pt4")},s.a.createElement("div",{className:o()(p.filterTitle,"t-mini c-muted-2 flex items-center justify-between")},s.a.createElement(g.FormattedMessage,{id:t}))),s.a.createElement("div",{className:o()(p.categoriesContainer,"pb5 flex flex-column")},m?s.a.createElement(H,{maxItems:u,threshold:2,items:n,openLabel:"store/filter.more-departments",render:function(e){return s.a.createElement($,{key:e.id,category:e,shallow:!0,onCategorySelect:a,preventRouteChange:l,maxItemsCategory:d,categoryFiltersMode:f})}}):s.a.createElement($,{category:n.find((function(e){return e.selected})),onCategorySelect:a,preventRouteChange:l,maxItemsCategory:d,categoryFiltersMode:f})))},ee=r(44),te=r.n(ee),re=function(e){if(null===e[0]||void 0===e[0])return"";var t=Object(n.a)(e,1)[0].categoryId;return e.every((function(e){return e.categoryId===t}))?t:""},ne=function(e){var t=e.name,r=e.value,n=e.products;(0,e.push)({event:"filterManipulation",items:{filterProductCategory:re(n),filterName:t,filterValue:r}})},ae=r(10),ce=r.n(ae),ie=r(26),oe=r(11),le="ÁÄÂÀÃÅČÇĆĎÉĚËÈÊẼĔȆÍÌÎÏŇÑÓÖÒÔÕØŘŔŠŤÚŮÜÙÛÝŸŽáäâàãåčçćďéěëèêẽĕȇíìîïňñóöòôõøðřŕšťúůüùûýÿžþÞĐđßÆa·/_,:;";function se(e){return function(e){for(var t=e.slice(0),r=0;r<le.length;r++)t=t.replace(new RegExp(le.charAt(r),"g"),"AAAAAACCCDEEEEEEEEIIIINNOOOOOORRSTUUUUUYYZaaaaaacccdeeeeeeeeiiiinnooooooorrstuuuuuyyzbBDdBAa------".charAt(r));return t}(e.replace(/[*+~.()'"!:@&\[\]`,/ %$#?{}|><=_^]/g,"-")).toLowerCase()}var ue=function(e){return e.map&&e.map.includes(oe.SPEC_FILTER)?"".concat(se(e.title)).concat(oe.FILTER_TITLE_SEP).concat(e.value.replace(/\s/g,oe.SPACE_REPLACER)):e.map===oe.MAP_CATEGORY_CHAR||e.map===oe.MAP_BRAND_CHAR?e.value.toLowerCase():e.value},de=r(106),fe=r.n(de),pe=["searchFilterBar"],me=Object(g.defineMessages)({placeholder:{id:"store/search.filter.placeholder"}}),ve=function(e){var t=e.name,r=e.handleChange,n=v()(pe),a=Object(g.useIntl)();return s.a.createElement("div",{className:"".concat(n.searchFilterBar," mb3")},s.a.createElement(fe.a,{"data-testid":"filter-search-bar",onChange:function(e){return r(e.target.value)},placeholder:a.formatMessage(me.placeholder,{filterName:t})}))},be=r(35),he=["seeMoreButton"],Oe=function(e){var t=e.truncated,r=e.toggleTruncate,n=e.quantity,a=v()(he);return s.a.createElement("button",{onClick:r,className:"".concat(a.seeMoreButton," mt2 pv2 bn pointer c-link"),key:t?"store/filter.more-items":"store/filter.less-items"},s.a.createElement(g.FormattedMessage,{id:t?"store/filter.more-items":"store/filter.less-items",values:{quantity:n}}))};function ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ee=function(e){var t,r,a=e.facets,c=e.onFilterCheck,i=e.facetTitle,u=e.quantity,f=e.truncateFilters,p=e.navigationType,m=e.truncatedFacetsFetched,v=e.setTruncatedFacetsFetched,b=P()().push,y=Object(O.useSearchPage)().searchQuery,g=Object(l.useContext)(ie.a).showFacetQuantity,E=Object(d.useRuntime)().getSettings,j=Object(l.useContext)(ie.a).thresholdForFacetSearch,F=Object(l.useState)(""),C=Object(n.a)(F,2),w=C[0],R=C[1],x=Object(l.useState)(!0),S=Object(n.a)(x,2),T=S[0],A=S[1],I=null===(t=E("vtex.store"))||void 0===t?void 0:t.enableFiltersFetchOptimization,_=null==y||null===(r=y.facets)||void 0===r?void 0:r.sampling,M=Object(l.useMemo)((function(){return void 0===j||""===w?a:a.filter((function(e){return e.name.toLowerCase().indexOf(w.toLowerCase())>-1}))}),[a,w,j]),L="collapsible"===p&&f&&u>be.a+1,k=L&&T?be.a:M.length,N=void 0!==j&&j<a.length;return s.a.createElement(s.a.Fragment,null,N?s.a.createElement(ve,{name:i,handleChange:R}):null,M.slice(0,k).map((function(e){var t=e.name,r=se(t);return s.a.createElement("div",{className:o()(h()(ce.a.filterAccordionItemBox,r),"pr4 pt3 items-center flex bb b--muted-5"),key:t,style:{hyphens:"auto",wordBreak:"break-word"}},s.a.createElement(te.a,{className:"mb0",checked:e.selected,id:t,label:g&&!_?"".concat(e.name," (").concat(e.quantity,")"):e.name,name:t,onChange:function(){var r;ne({name:i,value:t,products:null!==(r=null==y?void 0:y.products)&&void 0!==r?r:[],push:b}),c(ge(ge({},e),{},{title:i}))},value:t}))})),L&&s.a.createElement(Oe,{quantity:u-be.a,truncated:T,toggleTruncate:function(){return e=function(e){return!e},I&&!m&&v(!0),void A(e);var e}}))},je=[oe.MAP_CATEGORY_CHAR,oe.PRODUCT_CLUSTER_IDS,oe.FULLTEXT_QUERY_KEY],Fe=[oe.MAP_CATEGORY_CHAR,oe.FULLTEXT_QUERY_KEY],Ce=function(e){return je.includes(e)};function we(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?we(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):we(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Pe=function(e){var t=Object(x.b)(),r=t.query,a=t.map;if(null==r&&null==a)return[];var c=Object(y.zip)(r.toLowerCase().split("/").map(decodeURIComponent),a.split(","));return e.map((function(e){var t=decodeURIComponent(e.value).toLowerCase(),r=void 0!==c.find((function(r){var a,c,i=Object(n.a)(r,2),o=i[0],l=i[1];return o===t&&(a=l,c=e.map,Fe.includes(a)?Fe.includes(c):a===c)}));return Re(Re({},e),{},{selected:r})}))},xe=["accordionFilterOpen"],Se=function(e){var t=e.className,r=e.title,n=e.facets,a=e.quantity,c=e.show,i=e.open,l=e.onOpen,u=e.onFilterCheck,d=e.appliedFiltersOverview,f=e.navigationType,p=e.initiallyCollapsed,m=e.truncateFilters,b=e.truncatedFacetsFetched,O=e.setTruncatedFacetsFetched,y=e.onClearFilter,E=e.showClearByFilter,j=v()(xe),F=Pe(n),C=F.filter((function(e){return e.selected})),w=Object(g.useIntl)(),R=Object(k.b)(r,w),P=se(R),x=F.length>0?F[0].key:null;return s.a.createElement(D,{facetKey:x,title:r,open:i,show:c,onOpen:l,selectedFilters:C,appliedFiltersOverview:d,navigationType:f,initiallyCollapsed:p,onFilterCheck:u,onClearFilter:y,showClearByFilter:E},s.a.createElement("div",{className:o()(h()(j.accordionFilterOpen,P),t)},s.a.createElement(Ee,{onFilterCheck:u,facets:F,quantity:a,facetTitle:R,truncateFilters:m,navigationType:f,truncatedFacetsFetched:b,setTruncatedFacetsFetched:O})))},Te=r(63),Ae=r.n(Te),Ie=r(107),_e=r.n(Ie),Me=(r(36),r(37)),Le=r(54),ke=["filter__container","filter","filterSelected","filterAvailable","filterIsOpen","filterTitle","filterTitleSpan","filterIcon","filterContent","filterTemplateOverflow","seeMoreButton","filterSelectedFilters"],Ne=function(e){var t,r,a=e.id,c=e.selected,i=void 0!==c&&c,u=e.title,f=e.quantity,p=e.collapsable,m=void 0===p||p,b=e.children,h=e.filters,O=e.initiallyCollapsed,y=void 0!==O&&O,E=e.lazyRender,j=void 0!==E&&E,F=e.truncateFilters,C=void 0!==F&&F,w=e.lastOpenFilter,R=e.setLastOpenFilter,P=e.openFiltersMode,x=e.truncatedFacetsFetched,S=e.setTruncatedFacetsFetched,A=e.closeOnOutsideClick,I=void 0!==A&&A,_=e.appliedFiltersOverview,k=e.navigateToFacet,N=e.showClearByFilter,B=e.preventRouteChange,D=Object(l.useState)(!y),U=Object(n.a)(D,2),z=U[0],Y=U[1],q=Object(d.useRuntime)().getSettings,Q=Object(l.useRef)(),H=Object(l.useRef)(),V=v()(ke),G=Object(l.useContext)(ie.a).thresholdForFacetSearch,K=Object(l.useState)(""),W=Object(n.a)(K,2),X=W[0],$=W[1],J=Object(l.useState)(!0),Z=Object(n.a)(J,2),ee=Z[0],te=Z[1],re=null===(t=q("vtex.store"))||void 0===t?void 0:t.enableSearchRenderingOptimization,ne=null===(r=q("vtex.store"))||void 0===r?void 0:r.enableFiltersFetchOptimization,ae=Object(Le.a)({lazyRender:re&&j,waitForUserInteraction:!1}),oe=ae.hasBeenViewed,le=ae.dummyElement,se=function(e){var t=Object(l.useState)(!1),r=Object(n.a)(t,2),a=r[0],c=r[1];return Object(l.useEffect)((function(){var t=e.current;if(!a&&t){var r=function(){c(!0)};return t.addEventListener("scroll",r),function(){t.removeEventListener("scroll",r)}}}),[a,e]),a}(Q),ue="many"===P?z:w===u,de=Object(l.useMemo)((function(){return void 0===G||""===X?h:h.filter((function(e){return e.name.toLowerCase().indexOf(X.toLowerCase())>-1}))}),[h,X,G]),fe=Object(l.useCallback)((function(){return k(h.filter((function(e){return e.selected})),B)}),[k,h,B]),pe=function(){if("function"!=typeof b)return b;var e=(C||ne)&&f>be.a+1,t=!e&&!se&&re,r=t?34*(h.length-be.a):0,n=t||e&&ee?be.a:de.length;return s.a.createElement(s.a.Fragment,null,de.slice(0,n).map(b),r>0&&s.a.createElement("div",{style:{height:r}}),e&&s.a.createElement(Oe,{quantity:f-be.a,truncated:ee,toggleTruncate:function(){return e=function(e){return!e},ne&&!x&&S(!0),void te(e);var e}}))},me=Object(l.useCallback)((function(){"many"===P?Y(!z):"one"===P?R(w===u?null:u):console.error("Invalid openFiltersMode value: ".concat(P,"\nCheck the documentation for the values available"))}),[w,z,P,R,u]);Object(Me.a)(H,(function(){I&&"one"===P&&me()}),ue);var he=N&&!i&&h&&h.some((function(e){return e.selected})),ye=Object(l.useCallback)((function(e){" "===e.key&&m&&(e.preventDefault(),me())}),[m,me]),ge=o()(V.filter__container,"bb b--muted-4",a&&"".concat(ce.a.filter__container,"--").concat(a)),Ee=o()(V.filter,"pv5",i?V.filterSelected:V.filterAvailable,ue&&V.filterIsOpen),je=o()(V.filterTitle,"f5 flex items-center justify-between",i&&"ttu");return s.a.createElement("div",{className:ge,ref:H},s.a.createElement("div",{className:Ee},s.a.createElement("div",{role:"button",tabIndex:m?0:void 0,className:m?"pointer":"",onClick:function(){return m&&me()},onKeyDown:ye,"aria-disabled":!m},s.a.createElement("div",{className:je},s.a.createElement("span",{className:"".concat(V.filterTitleSpan)},u,he&&s.a.createElement("span",{className:"ml2"},s.a.createElement(M.a,{size:"small",onClick:function(e){e.stopPropagation(),fe()}},s.a.createElement(g.FormattedMessage,{id:"store/search-result.filter-button.clear"})))),m&&s.a.createElement("span",{className:o()(V.filterIcon,"flex items-center ph5 c-muted-3")},s.a.createElement(T.a,{orientation:ue?"up":"down",size:14})))),"show"===_&&h&&!i&&s.a.createElement("div",{className:o()(V.filterSelectedFilters,"f6")},h.filter((function(e){return e.selected})).map((function(e){return e.name})).join(", "))),s.a.createElement("div",{className:o()(V.filterTemplateOverflow,(!m||ue)&&"pb5",m&&"overflow-y-auto"),ref:Q,"data-testid":"scrollable-element",style:i||(C||ne)&&!re?{}:{maxHeight:"200px"},"aria-hidden":!ue},oe?m?s.a.createElement(L.Collapse,{isOpened:ue,theme:{content:V.filterContent}},void 0!==G&&G<h.length?s.a.createElement(ve,{name:u,handleChange:$}):null,pe()):pe():le))},Be=r(56),De=r(92),Ue=r.n(De);function ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var qe=["priceRangeInputWrapper","priceRangeInput","priceRangeInputButton"],Qe=function(e){var t=e.defaultValues,r=e.onSubmit,a=e.min,c=e.max,i=v()(qe),o=Object(d.useRuntime)().culture,u=Object(n.a)(t,2),f=u[0],p=u[1],m=Object(l.useState)({left:f,right:p}),b=Object(n.a)(m,2),h=b[0],O=b[1];Object(l.useEffect)((function(){return O({left:f,right:p})}),[f,p]);var y=function(e){return function(t){var r=t.target.value;O("min"===e?function(e){return Ye(Ye({},e),{},{left:parseFloat(r)})}:function(e){return Ye(Ye({},e),{},{right:parseFloat(r)})})}},E=function(){var e=h.left,t=h.right,n=Math.max(Math.min(e,t),a),i=Math.min(Math.max(e,t),c);O({left:n,right:i}),r([n,i])},F=function(e){"Enter"===e.key&&E()};return s.a.createElement("div",{className:"".concat(i.priceRangeInputWrapper," flex justify-between")},s.a.createElement("div",{className:"".concat(i.priceRangeInput," mr2")},s.a.createElement(Ue.a,{name:"min",size:"small",currencyCode:o.currency,locale:o.locale,value:h.left,onChange:y("min"),onKeyDown:F})),s.a.createElement("div",{className:"".concat(i.priceRangeInput," mr2")},s.a.createElement(Ue.a,{name:"max",size:"small",currencyCode:o.currency,locale:o.locale,value:h.right,onChange:y("max"),onKeyDown:F})),s.a.createElement(j.a,{className:i.priceRangeInputButton,onClick:E,size:"small"},s.a.createElement(g.FormattedMessage,{id:"store/search-result.price-ranges.submit"})))},He=function(e){var t=e.title,r=e.facets,a=e.priceRange,c=e.priceRangeLayout,i=e.scrollToTop,o=e.clearPriceRange,u=e.setClearPriceRange,f=Object(l.useState)(),p=Object(n.a)(f,2),m=p[0],v=p[1],b=Object(d.useRuntime)(),h=b.culture,y=b.setQuery,E=b.query,j=Object(g.useIntl)(),F=Object(l.useRef)(),C=Object(x.b)(),w=C.map,R=C.query,S=P()().push,T=Object(O.useSearchPage)().searchQuery,A=Object(Be.a)(),I=A.fuzzy,_=A.operator,M=A.searchState,L=/^de-(.*)-a-(.*)$/,N=r.filter((function(e){var t=e.slug;return L.test(t)}));if(!N.length)return null;var B=Number.MAX_VALUE,D=Number.MIN_VALUE;N.forEach((function(e){var t=e.slug.match(L),r=Object(n.a)(t,3),a=r[1],c=r[2],i=parseInt(a,10),o=parseInt(Math.ceil(c),10);i<B&&(B=i),o>D&&(D=o)}));var U=[B,D],z=/^(.*) TO (.*)$/;if(a&&z.test(a)){var Y=a.match(z),q=Object(n.a)(Y,3),Q=q[1],H=q[2];U[0]=parseInt(Q,10),U[1]=parseInt(H,10)}return Object(l.useEffect)((function(){o&&(y({priceRange:void 0}),v([B,D]),u(!1))}),[o]),s.a.createElement(Ne,{id:"priceRange",title:Object(k.b)(t,j),collapsable:!1},"inputAndSlider"===c&&s.a.createElement(Qe,{defaultValues:U,onSubmit:function(e){return v(e)},max:D,min:B}),s.a.createElement(Ae.a,{min:B,max:D,onChange:function(e){var t,r=Object(n.a)(e,2),a=r[0],c=r[1];F.current&&clearTimeout(F.current),ne({name:"PriceRange",value:"[".concat(a.toString(),"-").concat(c.toString(),"]"),products:null!==(t=null==T?void 0:T.products)&&void 0!==t?t:[],push:S}),F.current=setTimeout((function(){var e,t,r,n="undefined"!=typeof sessionStorage?null!==(e=sessionStorage.getItem("searchState"))&&void 0!==e?e:M:null!=M?M:void 0;y({priceRange:"".concat(a," TO ").concat(c),page:void 0,fuzzy:I||void 0,operator:_||void 0,searchState:n,initialMap:null!==(t=null==E?void 0:E.initialMap)&&void 0!==t?t:w,initialQuery:null!==(r=null==E?void 0:E.initialQuery)&&void 0!==r?r:R}),v([a,c]),"none"!==i&&window.scroll({top:0,left:0,behavior:i})}),500)},defaultValues:U,formatValue:function(e){return _e()({intl:j,culture:h,value:e})},values:m,range:!0}))},Ve=function(e){var t=e.className,r=e.title,n=e.facets,a=e.show,c=e.open,i=e.onOpen,o=e.priceRange,l=e.navigationType,u=e.initiallyCollapsed,d=e.priceRangeLayout,f=e.clearPriceRange,p=e.setClearPriceRange;return s.a.createElement(D,{title:r,open:c,show:a,onOpen:i,navigationType:l,initiallyCollapsed:u},s.a.createElement("div",{className:t},s.a.createElement(He,{title:r,facets:n,priceRange:o,priceRangeLayout:d,clearPriceRange:f,setClearPriceRange:p})))},Ge=["filterBreadcrumbsItem","filterBreadcrumbsItemName","filterBreadcrumbsContent","filterBreadcrumbsText","filterBreadcrumbsList","filterLoadingOverlay"],Ke="store/search.filter.title.categories",We=function(e){var t,r=e.filters,a=e.onFilterCheck,c=e.tree,i=e.onCategorySelect,u=e.priceRange,f=e.appliedFiltersOverview,p=e.navigationType,m=e.initiallyCollapsed,b=e.truncateFilters,h=e.truncatedFacetsFetched,O=e.setTruncatedFacetsFetched,y=e.categoryFiltersMode,E=e.loading,j=e.onClearFilter,F=e.showClearByFilter,C=e.updateOnFilterSelectionOnMobile,w=e.priceRangeLayout,R=e.clearPriceRange,P=e.setClearPriceRange,x=Object(g.useIntl)(),S=Object(d.useRuntime)().getSettings,A=Object(l.useState)(null),_=Object(n.a)(A,2),M=_[0],L=_[1],k=v()(Ge),N=null===(t=S("vtex.store"))||void 0===t?void 0:t.enableFiltersFetchOptimization,B=function(e){return function(t){t.preventDefault(),"collapsible"!==p&&(N&&!h&&O(!0),L(M===e?null:e))}},U=r.filter((function(e){return e.facets.length>0})),z=M===Ke,Y=o()(ce.a.accordionFilterItemOptions,"ph5 pt3 h-100 overflow-scroll","collapsible"!==p&&"pb9"),q=C&&E;return s.a.createElement("div",{className:o()(ce.a.accordionFilter,"h-100 pb9",!M&&"overflow-scroll")},s.a.createElement("div",{className:o()(ce.a.filterAccordionBreadcrumbs,"pointer flex flex-row items-center pa5 bg-base w-100 z-max bb b--muted-4")},s.a.createElement("div",{role:"button",tabIndex:0,className:"".concat(k.filterBreadcrumbsContent," pv4 flex items-center"),onClick:function(){return L(null)},onKeyDown:function(e){"Enter"===e.key&&L(null)}},s.a.createElement("div",{className:"".concat(k.filterBreadcrumbsText," t-heading-4 ")+(M?"c-muted-2":"c-on-base")},x.formatMessage({id:"store/search-result.filter-breadcrumbs.primary"}))),M&&s.a.createElement("div",{className:"".concat(k.filterBreadcrumbsItem," pv4 flex items-center")},s.a.createElement(T.a,{orientation:"right",size:13}),s.a.createElement("div",{className:"".concat(k.filterBreadcrumbsItemName," pl3 t-heading-4 c-on-base")},x.formatMessage({id:M})))),c.length>0&&s.a.createElement(D,{title:Ke,open:z,show:!M||z,onOpen:B(Ke),appliedFiltersOverview:f,navigationType:p,initiallyCollapsed:m,onClearFilter:j},s.a.createElement("div",{className:Y},s.a.createElement(Z,{tree:c,isVisible:c.length>0,onCategorySelect:i,categoryFiltersMode:y,hideBorder:!0}))),U.map((function(e){var t=e.type,r=e.title,n=M===e.title;switch(t){case"PriceRanges":return s.a.createElement(Ve,{title:e.title,facets:e.facets,key:r,className:Y,open:n,show:!M||n,onOpen:B(r),onFilterCheck:a,priceRange:u,navigationType:p,initiallyCollapsed:m,priceRangeLayout:w,clearPriceRange:R,setClearPriceRange:P});default:return s.a.createElement(Se,{title:e.title,facets:e.facets,quantity:e.quantity,key:r,className:Y,open:n,show:!M||n,onOpen:B(r),onFilterCheck:a,appliedFiltersOverview:f,navigationType:p,initiallyCollapsed:m,truncateFilters:b,truncatedFacetsFetched:h,setTruncatedFacetsFetched:O,onClearFilter:j,showClearByFilter:F})}})),q&&s.a.createElement("div",{style:{background:"rgba(3, 4, 78, 0.4)"},className:o()(k.filterLoadingOverlay,"fixed dim top-0 w-100 vh-100 left-0 z-9999 justify-center items-center justify-center items-center flex")},s.a.createElement(I.a,null)))},Xe=r(40),$e=r(41),Je=r(42),Ze=r(45),et=r(34),tt=r(64),rt=r.n(tt),nt=r(94),at=r.n(nt),ct=r(65),it=r.n(ct);function ot(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(et.a)(e);if(t){var a=Object(et.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(Ze.a)(this,r)}}var lt=function(e){Object(Je.a)(r,e);var t=ot(r);function r(){return Object(Xe.a)(this,r),t.apply(this,arguments)}return Object($e.a)(r,[{key:"updateComponent",value:function(){this.props.isOpen?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden")}},{key:"componentDidMount",value:function(){this.updateComponent()}},{key:"componentDidUpdate",value:function(){this.updateComponent()}},{key:"componentWillUnmount",value:function(){document.body.classList.remove("overflow-hidden")}},{key:"render",value:function(){var e=this.props,t=e.isOpen,r=e.onOutsideClick,n=e.filtersDrawerDirectionMobile;if("undefined"==typeof document)return null;var a="fixed dim bg-base--inverted top-0 z-9999 w-100 vh-100 o-40 left-0"+(t?"":" dn"),c=o()("".concat(ce.a.sidebar," w-auto-ns h-100 fixed top-0 z-9999 bg-base shadow-2 flex flex-column"),this.props.fullWidth?"w-100":"w-80","drawerLeft"===n?"right-0":"left-0");return rt.a.createPortal(s.a.createElement(at.a,{onOutsideClick:r},s.a.createElement("div",{style:{willChange:"opacity"},className:a,onClick:r}),s.a.createElement(it.a,{className:c,isActive:t,type:n},this.props.children)),document.body)}}]),r}(l.Component),st=Object(g.injectIntl)(lt),ut=r(20),dt=r(43),ft={baseElementId:"search-result-anchor",top:-k.a},pt=function(e,t){return e.filter((function(e,r){return r!==t}))},mt=function(e,t,r){return decodeURIComponent(e).toLowerCase()===decodeURIComponent(r.value).toLowerCase()&&t===r.map},vt=function(e,t,r){var a=e.split(oe.PATH_SEPARATOR),c=t.split(oe.MAP_VALUES_SEP);return Object(y.zip)(a,c).map((function(e){var t=Object(n.a)(e,2),a=t[0],c=t[1],i=r.find((function(e){return mt(a,c,e)}));return i?ue(i):a})).join(oe.PATH_SEPARATOR)},bt=function(e,t){var r=e.split(oe.MAP_VALUES_SEP),n=t.reduce((function(e,t){return t.map===oe.MAP_CATEGORY_CHAR||t.newQuerySegment&&t.newQuerySegment.toLowerCase()!==t.value.toLowerCase()?e.concat(t.map):e}),[]);return r.filter((function(e){return!n.includes(e)})).join(oe.MAP_VALUES_SEP)},ht=function(e){var t=new URLSearchParams(window.location.search);return t.set(oe.MAP_QUERY_KEY,e),e||t.delete(oe.MAP_QUERY_KEY),t.delete("page"),t},Ot=function(e,t,r){var a=r.map((function(e){return e.value})),i=r.map((function(e){return e.map})),o=e.ft,l=e.productClusterIds,s=e.seller;return o&&(a.push(o),i.push(oe.FULLTEXT_QUERY_KEY)),l&&-1===i.indexOf(oe.PRODUCT_CLUSTER_IDS)&&(a.push(l),i.push(oe.PRODUCT_CLUSTER_IDS)),s&&-1===i.indexOf(oe.SELLER_QUERY_KEY)&&(a.push(s),i.push(oe.SELLER_QUERY_KEY)),function(e,t,r,a){var i=r.reduce((function(e,t){var r,i,o,l=e.query,s=e.map,u=Object(ut.a)({},t),d=u.value;if(u.newQuerySegment=ue(u),u.selected){var f=Object(y.zip)(l,s).findIndex((function(e){var t=Object(n.a)(e,2),r=t[0],a=t[1];return mt(r,a,u)}));return a=a.filter((function(e){return e.value!==u.value&&e.map!==u.map})),{query:pt(l,f),map:pt(s,f)}}if(i=u,-1===(o=(r=a).findIndex((function(e){return e.value===i.value&&e.map===i.map})))?r.push(i):r[o]=i,u.map===oe.MAP_CATEGORY_CHAR){var p=s.lastIndexOf(oe.MAP_CATEGORY_CHAR);if(p>=0&&p!==s.length-1)return{query:[].concat(Object(c.a)(l.slice(0,p+1)),[d],Object(c.a)(l.slice(p+1))),map:[].concat(Object(c.a)(s.slice(0,p+1)),[u.map],Object(c.a)(s.slice(p+1)))}}return{query:[].concat(Object(c.a)(l),[d]),map:[].concat(Object(c.a)(s),[u.map])}}),{query:e,map:t});return{query:i.query.join(oe.PATH_SEPARATOR),map:i.map.join(oe.MAP_VALUES_SEP)}}(a,i,t,r)},yt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r=Object(d.useRuntime)(),n=r.navigate,a=r.setQuery,i=r.query,o=Object(x.b)(),s=o.map,u=o.query,f=Object(Be.a)(),p=f.fuzzy,m=f.operator,v=f.searchState,b=Object(O.useSearchPage)(),h=b.searchQuery,y=s.split(",").includes("ft"),g=Object(dt.d)(u,s),E=Object(l.useCallback)((function(r){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=Array.isArray(r)?r:[r],d=Ot(g,l,e),f=d.query,b=d.map;if("none"!==t&&window.scroll({top:0,left:0,behavior:t}),o){var O,E,j,F="undefined"!=typeof sessionStorage?null!==(O=sessionStorage.getItem("searchState"))&&void 0!==O?O:v:null!=v?v:void 0,C={map:"".concat(b),query:"/".concat(f),page:void 0,fuzzy:y&&p||void 0,operator:y&&m||void 0,searchState:F,initialMap:null!==(E=i.initialMap)&&void 0!==E?E:s,initialQuery:null!==(j=i.initialQuery)&&void 0!==j?j:u};a(C)}else{var w,R=vt(f,b,[].concat(Object(c.a)(e),Object(c.a)(l))),P=ht(bt(b,[].concat(Object(c.a)(e),Object(c.a)(l))));if(h&&h.variables&&(!P.get("initialQuery")||!P.get("initialMap"))){var x=h.variables,S=x.map,T=x.query;P.set("initialQuery",T),P.set("initialMap",S)}if(p&&y&&P.set("fuzzy",p),m&&y&&P.set("operator",m),v)P.set("searchState",null!==(w=sessionStorage.getItem("searchState"))&&void 0!==w?w:v);if(!R){var A=i.initialQuery,I=i.initialMap;if(!A||!I)return;R=A,P.set("map",I)}n({to:"".concat(oe.PATH_SEPARATOR).concat(R),query:P.toString(),scrollOptions:ft,modifiersOptions:{LOWERCASE:!1}})}}));return E};function gt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var jt=["filterPopupButton","filterPopupTitle","filterButtonsBox","filterPopupArrowIcon","filterClearButtonWrapper","filterApplyButtonWrapper","filterTotalProducts","filterQuantityBadge"],Ft=function(e,t){var r=Object(l.useState)(e),a=Object(n.a)(r,2),c=a[0],i=a[1];return Object(l.useEffect)((function(){i(e)}),[e]),Object(l.useEffect)((function(){var e;i((e=t,Object(F.a)((function(t){if(e.length){for(var r=t;!r.find((function(t){return t.value===e[0].value}))&&!r.every((function(e){return!e.selected}));)r=r.find((function(e){return e.selected})).children;e.forEach((function(e){var t=r.findIndex((function(t){return t.value===e.value}));r[t].selected=!r[t].selected,r=r[t].children}))}}))))}),[t,e]),c},Ct=function(e){var t=e.selectedFilters,r=e.filters,a=e.tree,i=e.priceRange,o=e.preventRouteChange,u=e.navigateToFacet,f=e.appliedFiltersOverview,p=e.totalProductsOnMobile,m=e.fullWidth,b=e.navigationType,h=e.initiallyCollapsed,y=e.truncateFilters,E=e.truncatedFacetsFetched,F=e.setTruncatedFacetsFetched,C=e.categoryFiltersMode,R=e.loading,S=e.updateOnFilterSelectionOnMobile,T=e.showClearByFilter,A=e.priceRangeLayout,I=e.filtersDrawerDirectionMobile,_=e.showQuantityBadgeOnMobile,M=Object(O.useSearchPage)().searchQuery,L=Object(x.b)(),k=Object(l.useState)(!1),N=Object(n.a)(k,2),B=N[0],D=N[1],U=v()(jt),z=Object(l.useRef)(!1),Y=M&&M.data&&M.data.productSearch&&M.data.productSearch.recordsFiltered,q=Object(l.useState)([]),Q=Object(n.a)(q,2),H=Q[0],V=Q[1],G=Object(l.useState)([]),K=Object(n.a)(G,2),W=K[0],X=K[1],$=Ft(a,W),J=s.a.useMemo((function(){var e,n=r.map((function(e){return e.key}));return(null!==(e=t.filter((function(e){return n.includes(e.key)&&e.selected})))&&void 0!==e?e:[]).length}),[r,t]),Z=function(){D(!1)},ee=P()().push,te=Object(l.useState)(),re=Object(n.a)(te,2),ae=re[0],ie=re[1],le=function(e){var r;ne({name:"CleanFilters",value:!0,products:null!==(r=null==M?void 0:M.products)&&void 0!==r?r:[],push:ee}),z.current=!S||!o;var n=t.filter((function(t){return!Ce(t.key)&&t.selected&&(!e||e&&e===t.key)})),a=H.filter((function(e){return Ce(e.key)})),i=[].concat(Object(c.a)(n),Object(c.a)(a));if(S&&o)return u(i,o),void ie(!0);ie(!0),V(i)},se=Object(l.useMemo)((function(){var e=L.query,r=L.map,n=Object(dt.d)(e,r);return z.current?(z.current=!1,function(e){for(var t=e.query.split(oe.PATH_SEPARATOR),r=e.map.split(oe.MAP_VALUES_SEP),n=[],a=[],c=0;c<r.length;c++)Ce(r[c])&&(n.push(t[c]),a.push(r[c]));return{query:n.join(oe.PATH_SEPARATOR),map:a.join(oe.MAP_VALUES_SEP)}}(L)):Et(Et({},L),Ot(n,H,Object(c.a)(t)))}),[H,L,t]);return s.a.createElement(l.Fragment,null,s.a.createElement("button",{className:"".concat(ce.a.filterPopupButton," ").concat(_?"relative":"","  ph3 pv5 mv0 mv0 pointer flex justify-center items-center ")+(B?"bb b--muted-1":"bn"),onClick:function(){D(!0)}},s.a.createElement("span",{className:"".concat(U.filterPopupTitle," c-on-base t-action--small ml-auto")},s.a.createElement(g.FormattedMessage,{id:"store/search-result.filter-action.title"})),s.a.createElement("span",{className:"".concat(U.filterPopupArrowIcon," ml-auto pl3 pt2")},s.a.createElement(w.a,{size:16,viewBox:"0 0 17 17"}),_&&J>0&&s.a.createElement("span",{className:"".concat(ce.a.filterQuantityBadgeDefault," ").concat(U.filterQuantityBadge," absolute t-mini bg-muted-2 c-on-muted-2 br4 w1 h1 pa1 flex justify-center items-center lh-solid")},J))),s.a.createElement(st,{onOutsideClick:Z,isOpen:B,fullWidth:m,filtersDrawerDirectionMobile:I},s.a.createElement(x.a.Provider,{value:se},s.a.createElement(We,{filters:r,tree:$,onFilterCheck:function(e){S&&o?u(e,o):!function(e,t){return e.find((function(e){return t.value===e.value}))}(H,e)?V(H.concat(e)):V(H.filter((function(t){return t.value!==e.value})))},onCategorySelect:function(e){var t=Array.isArray(e)?e:[e],r=H.filter((function(e){return e.map===oe.MAP_CATEGORY_CHAR})),n=[].concat(Object(c.a)(r),Object(c.a)(t));S&&o?u(n,o):(X(t),V((function(e){return e.filter((function(e){return e.map!==oe.MAP_CATEGORY_CHAR})).concat(n)})))},priceRange:i,appliedFiltersOverview:f,navigationType:b,initiallyCollapsed:h,truncateFilters:y,truncatedFacetsFetched:E,setTruncatedFacetsFetched:F,categoryFiltersMode:C,loading:R,onClearFilter:le,clearPriceRange:ae,setClearPriceRange:ie,showClearByFilter:T,updateOnFilterSelectionOnMobile:S,priceRangeLayout:A}),s.a.createElement(d.ExtensionPoint,{id:"sidebar-close-button",onClose:Z})),s.a.createElement("div",{className:"".concat(ce.a.filterButtonsBox," bt b--muted-5 bottom-0 fixed w-100 items-center flex z-1 bg-base flex-wrap")},s.a.createElement("div",{className:"".concat(U.filterClearButtonWrapper," bottom-0 fl w-50 pl4 pr2")},s.a.createElement(j.a,{block:!0,variation:"tertiary",size:"regular",onClick:function(){return le()}},s.a.createElement(g.FormattedMessage,{id:"store/search-result.filter-button.clear"}))),s.a.createElement("div",{className:"".concat(U.filterApplyButtonWrapper," bottom-0 fr w-50 pr4 pl2")},s.a.createElement(j.a,{block:!0,variation:"secondary",size:"regular",onClick:function(){D(!1),S&&o||(u(H,o),V([]))}},s.a.createElement(g.FormattedMessage,{id:"store/search-result.filter-button.apply"}))),"show"===p&&Y&&s.a.createElement("div",{className:"".concat(U.filterTotalProducts," w-100 flex flex-grow-1 items-center justify-center pre t-small")},s.a.createElement(g.FormattedMessage,{id:"store/search.total-products-2",values:{recordsFiltered:Y,span:function(e){return s.a.createElement("span",null,e)}}})))))};function wt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Pt=["filterItem","productCount"],xt=["global","window","document","self","screen","parent"],St=function(e){var t,r=e.navigateToFacet,a=e.facetTitle,c=e.facet,i=e.className,u=e.preventRouteChange,d=Object(l.useContext)(ie.a).showFacetQuantity,f=Object(l.useState)(c.selected),p=Object(n.a)(f,2),m=p[0],b=p[1],y=P()().push,g=v()(Pt),E=o()(h()(g.filterItem,c.value),i,"lh-copy w-100",c.selected&&"".concat(g.filterItem,"--selected")),j=Object(O.useSearchPage)().searchQuery,F=null==j||null===(t=j.facets)||void 0===t?void 0:t.sampling,C=xt.includes(c.value)?"filterItem--".concat(c.key,"-").concat(c.value):"".concat(c.key,"-").concat(c.value);Object(l.useEffect)((function(){c.selected!==m&&b(c.selected)}),[c.selected]);var w=function(e){var t=Object(O.useSearchPage)().map;if(!e.selected||!t)return!1;var r=t.split(oe.MAP_VALUES_SEP);return!r.includes("ft")&&1===r.length}(c),R=d&&!F?s.a.createElement(s.a.Fragment,null,c.name," ",s.a.createElement("span",{"data-testid":"facet-quantity-".concat(c.value,"-").concat(c.quantity),className:g.productCount},"(",c.quantity,")")):c.name;return s.a.createElement("div",{className:E,style:{hyphens:"auto",wordBreak:"break-word"},alt:c.name,title:c.name},s.a.createElement(te.a,{id:C,checked:m,label:R,name:c.name,onChange:function(){var e;ne({name:a,value:c.name,products:null!==(e=null==j?void 0:j.products)&&void 0!==e?e:[],push:y}),b(!m),r(Rt(Rt({},c),{},{title:a}),u)},value:c.name,disabled:w}))},Tt=["selectedFilterItem"],At=function(e){var t=e.map,r=e.filters,n=void 0===r?[]:r,a=e.preventRouteChange,c=void 0!==a&&a,i=e.navigateToFacet,o=Object(g.useIntl)(),l=v()(Tt);if(!n.length)return null;var u=n.filter((function(e){return!e.hidden})),d=o.formatMessage({id:"store/search.selected-filters"});return s.a.createElement(Ne,{id:"selectedFilters",title:d,filters:u,collapsable:!1,selected:!0},(function(e){return s.a.createElement(St,{map:t,key:e.name,facetTitle:e.title,facet:e,className:l.selectedFilterItem,preventRouteChange:c,navigateToFacet:i})}))},It=r(46),_t=function(e){var t=e.title,r=void 0===t?"Default Title":t,n=e.facets,a=void 0===n?[]:n,c=e.quantity,i=void 0===c?0:c,o=e.preventRouteChange,l=void 0!==o&&o,u=e.initiallyCollapsed,d=void 0!==u&&u,f=e.navigateToFacet,p=e.lazyRender,m=void 0!==p&&p,v=e.truncateFilters,b=void 0!==v&&v,h=e.lastOpenFilter,O=e.setLastOpenFilter,y=e.openFiltersMode,E=e.truncatedFacetsFetched,j=e.setTruncatedFacetsFetched,F=e.closeOnOutsideClick,C=e.appliedFiltersOverview,w=e.showClearByFilter,R=Object(g.useIntl)(),P=a&&a.length>0?a[0]:null,x=Object(k.b)(r,R);return s.a.createElement(Ne,{id:P?P.map:null,title:x,filters:a,quantity:i,initiallyCollapsed:d,lazyRender:m,truncateFilters:b,lastOpenFilter:h,setLastOpenFilter:O,openFiltersMode:y,truncatedFacetsFetched:E,setTruncatedFacetsFetched:j,closeOnOutsideClick:F,appliedFiltersOverview:C,navigateToFacet:f,showClearByFilter:w,preventRouteChange:l},(function(e){return s.a.createElement(St,{key:e.name,facetTitle:x,facet:e,preventRouteChange:l,navigateToFacet:f})}))},Mt=function(e){var t=e.filter,r=e.priceRange,n=e.preventRouteChange,a=e.initiallyCollapsed,c=e.navigateToFacet,i=e.lazyRender,o=e.truncateFilters,l=void 0!==o&&o,u=e.openFiltersMode,d=void 0===u?"many":u,f=e.lastOpenFilter,p=e.setLastOpenFilter,m=e.truncatedFacetsFetched,v=e.setTruncatedFacetsFetched,b=e.closeOnOutsideClick,h=e.appliedFiltersOverview,O=e.showClearByFilter,y=e.priceRangeLayout,g=e.scrollToTop,E=t.type,j=t.title,F=t.facets,C=t.quantity,w=t.oneSelectedCollapse,R=void 0!==w&&w;switch(E){case"PriceRanges":return s.a.createElement(He,{key:j,title:j,facets:F,priceRange:r,preventRouteChange:n,priceRangeLayout:y,scrollToTop:g});default:return s.a.createElement(_t,{key:j,title:j,facets:F,quantity:C,oneSelectedCollapse:R,preventRouteChange:n,initiallyCollapsed:a,navigateToFacet:c,lazyRender:i,truncateFilters:l,lastOpenFilter:f,setLastOpenFilter:p,openFiltersMode:d,truncatedFacetsFetched:m,setTruncatedFacetsFetched:v,closeOnOutsideClick:b,appliedFiltersOverview:h,showClearByFilter:O})}},Lt=function(e){var t=e.filters,r=void 0===t?[]:t,a=Object(It.a)(e,["filters"]),c=Object(l.useState)(),i=Object(n.a)(c,2),o=i[0],u=i[1];return r.map((function(e,t){return s.a.createElement(Mt,Object(ut.a)({filter:e},a,{lastOpenFilter:o,setLastOpenFilter:u,key:e.title,lazyRender:t>=3}))}))},kt=["filterMessage"],Nt=function(e){var t=e.filtersTitleHtmlTag,r=void 0===t?"h5":t,n=v()(kt),a=r;return s.a.createElement(a,{className:"".concat(n.filterMessage," ").concat("h5"===r?"t-heading-5":""," mv5")},s.a.createElement(g.FormattedMessage,{id:"store/search-result.filter-button.title"}))},Bt=r(49);function Dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ut(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zt(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Yt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yt(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,c=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw c}}}}function Yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qt=["filter__container","filtersWrapper","filtersWrapperMobile","clearAllFilters"],Qt={responsive:"responsive",desktop:"desktop",phone:"phone"},Ht={drawerRight:"drawerRight",drawerLeft:"drawerLeft"};t.default=function(e){var t,r,a,i=e.priceRange,f=e.tree,m=void 0===f?[]:f,b=e.specificationFilters,E=void 0===b?[]:b,F=e.priceRanges,C=void 0===F?[]:F,w=e.brands,R=void 0===w?[]:w,P=e.loading,x=void 0!==P&&P,S=e.filters,T=void 0===S?[]:S,A=e.preventRouteChange,I=void 0!==A&&A,_=e.hiddenFacets,M=void 0===_?{}:_,L=e.initiallyCollapsed,k=void 0!==L&&L,N=e.truncateFilters,B=void 0!==N&&N,D=e.layout,U=void 0===D?Qt.responsive:D,z=e.maxItemsDepartment,Y=void 0===z?8:z,q=e.maxItemsCategory,Q=void 0===q?8:q,H=e.categoryFiltersMode,V=void 0===H?"default":H,G=e.filtersTitleHtmlTag,K=void 0===G?"h5":G,W=e.scrollToTop,X=void 0===W?"none":W,$=e.openFiltersMode,J=void 0===$?"many":$,ee=e.filtersFetchMore,te=e.closeOnOutsideClick,re=void 0!==te&&te,ne=e.appliedFiltersOverview,ae=void 0===ne?"hide":ne,ie=e.totalProductsOnMobile,oe=void 0===ie?"hide":ie,le=e.fullWidthOnMobile,se=void 0!==le&&le,de=e.navigationTypeOnMobile,fe=void 0===de?"page":de,pe=e.updateOnFilterSelectionOnMobile,me=void 0!==pe&&pe,ve=e.drawerDirectionMobile,he=void 0===ve?Ht.drawerLeft:ve,Oe=e.showClearByFilter,ye=void 0!==Oe&&Oe,ge=e.showClearAllFiltersOnDesktop,Ee=void 0!==ge&&ge,je=e.priceRangeLayout,Fe=void 0===je?"slider":je,Ce=e.showQuantityBadgeOnMobile,we=void 0!==Ce&&Ce,Re=p()().isMobile,Pe=v()(qt),xe=Object(l.useState)(!1),Se=Object(n.a)(xe,2),Te=Se[0],Ae=Se[1],Ie=Re&&U===Qt.responsive||U===Qt.mobile||U===Qt.phone,_e=null!==(t=Ht[he])&&void 0!==t?t:Ht.drawerLeft;Object(l.useEffect)((function(){var e=!!T.find((function(e){return e.quantity>e.facets.length}));Te&&e&&!x&&ee({variables:{from:be.a,to:void 0},updateQuery:function(e,t){var r=t.fetchMoreResult;if(e&&r){for(var n=e.facets.facets,a=r.facets.facets,i=[],o=0;o<n.length;o++){var l=[].concat(Object(c.a)(n[o].facets),Object(c.a)(a[o].facets));i.push(Ut(Ut({},n[o]),{},{facets:l}))}return{facets:Ut(Ut({},e.facets),{},{facets:i})}}}})}),[T,ee,Te,x]);var Me=Object(l.useMemo)((function(){var e=[].concat(Object(c.a)(E.map((function(e){return e.facets.map((function(t){return Ut(Ut({},function(e){return Ut(Ut({},e),{},{newQuerySegment:ue(e)})}(Ut(Ut({},t),{},{title:e.name}))),{},{hidden:e.hidden})}))}))),Object(c.a)(R),Object(c.a)(C));return Object(y.flatten)(e)}),[R,C,E]).filter((function(e){return e.selected})),Le=Object(O.useSearchPage)().searchQuery,ke=(null==Le||null===(r=Le.variables)||void 0===r||null===(a=r.selectedFacets)||void 0===a?void 0:a.length)>1,Ne=function e(t){var r,n=zt(t);try{for(n.s();!(r=n.n()).done;){var a=r.value;if(a.selected)return a.children?[a].concat(Object(c.a)(e(a.children))):[a]}}catch(e){n.e(e)}finally{n.f()}return[]}(m),Be=yt(Object(l.useMemo)((function(){return Ne.concat(Me)}),[Me,Ne]),X),De=o()(Ie&&"flex items-center justify-center flex-auto h-100",x&&"dn");return s.a.createElement(l.Fragment,null,x&&!Ie?s.a.createElement("div",{className:"mv5"},s.a.createElement(u.a,{style:{width:"230px",height:"320px"},width:"230",height:"320",y:"0",x:"0"},s.a.createElement("rect",{width:"100%",height:"1em"}),s.a.createElement("rect",{width:"100%",height:"8em",y:"1.5em"}),s.a.createElement("rect",{width:"100%",height:"1em",y:"10.5em"}),s.a.createElement("rect",{width:"100%",height:"8em",y:"12em"}))):null,Ie?s.a.createElement("div",{className:ce.a.filters},s.a.createElement("div",{className:"".concat(De," ").concat(Pe.filtersWrapperMobile)},s.a.createElement(Ct,{selectedFilters:Ne.concat(Me),filters:T,tree:m,priceRange:i,preventRouteChange:I,navigateToFacet:Be,appliedFiltersOverview:ae,totalProductsOnMobile:oe,fullWidth:se,navigationType:fe,initiallyCollapsed:k,truncateFilters:B,truncatedFacetsFetched:Te,setTruncatedFacetsFetched:Ae,categoryFiltersMode:V,loading:x,updateOnFilterSelectionOnMobile:me,showClearByFilter:ye,priceRangeLayout:Fe,filtersDrawerDirectionMobile:_e,showQuantityBadgeOnMobile:we}))):s.a.createElement(l.Fragment,null,s.a.createElement("div",{className:"".concat(De," ").concat(Pe.filtersWrapper)},s.a.createElement("div",{className:"".concat(h()(Pe.filter__container,"title")," bb b--muted-4")},s.a.createElement(Nt,{filtersTitleHtmlTag:K})),s.a.createElement(At,{filters:Me,preventRouteChange:I,navigateToFacet:Be}),s.a.createElement(Z,{title:Bt.a,tree:m,isVisible:!M.categories,onCategorySelect:Be,preventRouteChange:I,maxItemsDepartment:Y,maxItemsCategory:Q,categoryFiltersMode:V}),s.a.createElement(Lt,{filters:T,priceRange:i,preventRouteChange:I,initiallyCollapsed:k,navigateToFacet:Be,truncatedFacetsFetched:Te,setTruncatedFacetsFetched:Ae,truncateFilters:B,openFiltersMode:J,closeOnOutsideClick:re,appliedFiltersOverview:ae,showClearByFilter:ye,priceRangeLayout:Fe,scrollToTop:X}),Ee&&ke&&s.a.createElement("div",{className:"".concat(h()(Pe.filter__container,"clearAllFilters")," bb b--muted-4")},s.a.createElement(j.a,{onClick:function(){Be(Me,I)}},s.a.createElement(g.FormattedMessage,{id:"store/search-result.filter-button.clearAll"})))),s.a.createElement(d.ExtensionPoint,{id:"shop-review-summary"})))}},11:function(e,t,r){"use strict";r.r(t),r.d(t,"MAP_CATEGORY_CHAR",(function(){return n})),r.d(t,"MAP_BRAND_CHAR",(function(){return a})),r.d(t,"MAP_QUERY_KEY",(function(){return c})),r.d(t,"FULLTEXT_QUERY_KEY",(function(){return i})),r.d(t,"SELLER_QUERY_KEY",(function(){return o})),r.d(t,"PRODUCT_CLUSTER_IDS",(function(){return l})),r.d(t,"MAP_VALUES_SEP",(function(){return s})),r.d(t,"PATH_SEPARATOR",(function(){return u})),r.d(t,"SPACE_REPLACER",(function(){return d})),r.d(t,"FILTER_TITLE_SEP",(function(){return f})),r.d(t,"SPEC_FILTER",(function(){return p})),r.d(t,"SPEC_FILTERS",(function(){return m})),r.d(t,"SET_GALLERY_LAYOUTS_TYPE",(function(){return v})),r.d(t,"SWITCH_GALLERY_LAYOUT_TYPE",(function(){return b})),r.d(t,"SET_FOCUS_GALLERY_LAYOUT_TYPE",(function(){return h})),r.d(t,"ASC",(function(){return O})),r.d(t,"DESC",(function(){return y}));var n="c",a="b",c="map",i="ft",o="seller",l="productClusterIds",s=",",u="/",d="-",f="_",p="specificationFilter",m="SpecificationFilters",v="SET_GALLERY_LAYOUTS",b="SWITCH_GALLERY_LAYOUT",h="SET_FOCUS_GALLERY_LAYOUT",O="ASC",y="DESC"},23:function(e,t,r){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return t.messages[e]?t.formatMessage({id:e}):e}r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return a}));var a=90},29:function(e,t,r){"use strict";r.d(t,"b",(function(){return c}));var n=r(0),a=Object(n.createContext)({});t.a=a;var c=function(){return Object(n.useContext)(a)}},35:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=10},37:function(e,t,r){"use strict";var n=r(0);t.a=function(e,t,r){var a=Object(n.useCallback)((function(r){return e&&e.current&&!e.current.contains(r.target)&&t(r)}),[t,e]);Object(n.useLayoutEffect)((function(){return r&&document.addEventListener("mousedown",a),function(){return document.removeEventListener("mousedown",a)}}),[r,a])}},43:function(e,t,r){"use strict";r.d(t,"d",(function(){return l})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return u})),r.d(t,"a",(function(){return d}));var n=r(13),a=r(1),c=r(11);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=function(e,t){var r=e&&e.split(c.PATH_SEPARATOR)||[],n=t&&t.split(c.MAP_VALUES_SEP)||[],i=Object(a.zipObj)(n,r);return{ft:i.ft,productClusterIds:i.productClusterIds,seller:i.seller}},s=function(e,t,r){if(!t||!e)return[];var n,a=e.split("/"),c=decodeURIComponent(t).split(","),i=a.length>=c.length?c.map((function(e,t){if("ft"===e)try{n=decodeURI(a[t])}catch(e){n=a[t]}return{key:c[t],value:a[t]}})):[];return r&&i.push({key:"priceRange",value:r}),[i,n]},u=function(e){e.forEach((function(e){return e.facets.forEach((function(e){return function e(t){t.map=t.key,t.children&&t.children.forEach((function(t){return e(t)}))}(e)}))}));var t=Object(a.groupBy)((function(e){return e.type}))(e);return{brands:Object(a.pathOr)([],["BRAND",0,"facets"],t),brandsQuantity:t&&t.BRAND&&t.BRAND[0]&&null!=t.BRAND[0].quantity?t.BRAND[0].quantity:0,specificationFilters:(t.NUMBER||[]).concat(t.TEXT||[]),categoriesTrees:Object(a.pathOr)([],["CATEGORYTREE",0,"facets"],t),priceRanges:Object(a.pathOr)([],["PRICERANGE",0,"facets"],t).map((function(e){return o(o({},e),{},{slug:"de-".concat(e.range.from,"-a-").concat(e.range.to)})}))}},d=function(e){return e.reduce((function(e,t,r){return e.query+="".concat(r>0?"/":"").concat(t.value),e.map+="".concat(r>0?",":"").concat(t.key),e}),{query:"",map:""})}},48:function(e,t,r){"use strict";r.d(t,"b",(function(){return f}));var n=r(13),a=r(8),c=r(1),i=r(0),o=r(89),l=r.n(o),s=r(25);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e){return l()(e,{lower:!0,remove:/[*+~.()'"!:@]/g})}t.a=function(e){var t=Object(i.useContext)(s.a),r=t.query,n=t.map,o=Object(c.zip)(r.toLowerCase().split("/").map((function(e){return f(decodeURIComponent(e))})),n.split(","));return e.map((function(e){var t=decodeURIComponent(e.value).toLowerCase(),r=void 0!==o.find((function(r){var n=Object(a.a)(r,2),c=n[0],i=n[1];return c===t&&i===e.map}));return d(d({},e),{},{selected:r})}))}},49:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(12),a=r(1),c="store/search.filter.title.categories";t.b=function(e){var t=e.specificationFilters,r=void 0===t?[]:t,c=e.priceRanges,i=void 0===c?[]:c,o=e.brands,l=void 0===o?[]:o,s=e.brandsQuantity,u=void 0===s?0:s,d=e.hiddenFacets,f=void 0===d?{}:d,p=(Object(a.path)(["specificationFilters","hiddenFilters"],f)||[]).map((function(e){return e.name})),m=Object(a.path)(["specificationFilters","hideAll"],f)?[]:r.filter((function(e){return!Object(a.contains)(e.name,p)&&!e.hidden})).map((function(e){var t;return{type:"SpecificationFilters",title:e.name,facets:e.facets,quantity:e.quantity,key:null===(t=e.facets)||void 0===t?void 0:t[0].key}}));return[].concat(Object(n.a)(m),[!f.brands&&!Object(a.isEmpty)(l)&&{type:"Brands",title:"store/search.filter.title.brands",facets:l,quantity:u},!f.priceRange&&!Object(a.isEmpty)(i)&&{type:"PriceRanges",title:"store/search.filter.title.price-ranges",facets:i}]).filter(Boolean)}},54:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(8),a=r(0),c=r.n(a),i=function(e){var t=e.lazyRender,r=void 0!==t&&t,i=e.height,o=void 0===i?400:i,l=e.offset,s=void 0===l?200:l,u=e.waitForUserInteraction,d=void 0===u||u,f=Object(a.useRef)(null),p=Object(a.useState)(!1),m=Object(n.a)(p,2),v=m[0],b=m[1];return function(e){var t=e.ref,r=e.onView,c=e.threshold,i=void 0===c?0:c,o=e.once,l=void 0!==o&&o,s=e.bailOut,u=void 0!==s&&s,d=e.initializeOnInteraction,f=void 0!==d&&d,p=Object(a.useRef)(!1),m=Object(a.useRef)(!1);Object(a.useEffect)((function(){var e,a,c=function(){var e=t.current;if(u||p.current||!e||!r||l&&m.current)return function(){};p.current=!0;var a=function(){p.current&&(c.unobserve(e),p.current=!1)},c=new IntersectionObserver((function(e){var t=Object(n.a)(e,1)[0];t.isIntersecting&&(t.intersectionRatio<i||(l&&a(),m.current=!0,r({entry:t,unobserve:a})))}));return c.observe(e),a};if(f){var o=function(){var e,t;null===(e=null===window||void 0===window?void 0:window.document)||void 0===e||e.removeEventListener("scroll",d),null===(t=null===window||void 0===window?void 0:window.document)||void 0===t||t.removeEventListener("mouseover",d)},s=function(){o()},d=function(){o(),s=c()};return window.pageYOffset>0&&d(),null===(e=null===window||void 0===window?void 0:window.document)||void 0===e||e.addEventListener("scroll",d),null===(a=null===window||void 0===window?void 0:window.document)||void 0===a||a.addEventListener("mouseover",d),s}return c()}),[u,f,r,l,t,i])}({ref:f,onView:function(){return b(!0)},once:!0,initializeOnInteraction:d,bailOut:!r}),{hasBeenViewed:v||!r,dummyElement:c.a.createElement("div",{style:{width:"100%",height:o,position:"relative"}},c.a.createElement("div",{ref:f,style:{top:-s,bottom:0,left:0,right:0,position:"absolute"}}))}}},56:function(e,t,r){"use strict";var n=r(6),a=r(1);t.a=function(){var e=Object(n.useSearchPage)().searchQuery;return{fuzzy:Object(a.path)(["data","productSearch","fuzzy"],e),operator:Object(a.path)(["data","productSearch","operator"],e),searchState:Object(a.path)(["data","productSearch","searchState"],e)}}}}]);