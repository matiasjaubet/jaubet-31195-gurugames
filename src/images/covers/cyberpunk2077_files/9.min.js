(window.webpackJsonpvtex_search_result_3_117_3=window.webpackJsonpvtex_search_result_3_117_3||[]).push([[9],{11:function(e,t,n){"use strict";n.r(t),n.d(t,"MAP_CATEGORY_CHAR",(function(){return r})),n.d(t,"MAP_BRAND_CHAR",(function(){return o})),n.d(t,"MAP_QUERY_KEY",(function(){return i})),n.d(t,"FULLTEXT_QUERY_KEY",(function(){return u})),n.d(t,"SELLER_QUERY_KEY",(function(){return a})),n.d(t,"PRODUCT_CLUSTER_IDS",(function(){return c})),n.d(t,"MAP_VALUES_SEP",(function(){return l})),n.d(t,"PATH_SEPARATOR",(function(){return d})),n.d(t,"SPACE_REPLACER",(function(){return s})),n.d(t,"FILTER_TITLE_SEP",(function(){return f})),n.d(t,"SPEC_FILTER",(function(){return v})),n.d(t,"SPEC_FILTERS",(function(){return m})),n.d(t,"SET_GALLERY_LAYOUTS_TYPE",(function(){return p})),n.d(t,"SWITCH_GALLERY_LAYOUT_TYPE",(function(){return E})),n.d(t,"SET_FOCUS_GALLERY_LAYOUT_TYPE",(function(){return y})),n.d(t,"ASC",(function(){return b})),n.d(t,"DESC",(function(){return _}));var r="c",o="b",i="map",u="ft",a="seller",c="productClusterIds",l=",",d="/",s="-",f="_",v="specificationFilter",m="SpecificationFilters",p="SET_GALLERY_LAYOUTS",E="SWITCH_GALLERY_LAYOUT",y="SET_FOCUS_GALLERY_LAYOUT",b="ASC",_="DESC"},111:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(4),u=n.n(i),a=n(66),c=n.n(a),l=n(21),d=n.n(l),s=n(3),f=n.n(s),v=n(14),m=n.n(v),p=n(67),E=n.n(p),y=n(7),b=n(6),_=n.n(b),w=n(54),O=n(20),S=n(68),h=n.n(S),L=n(28),R=n.n(L),T=function(e){var t,n,i=e.GalleryItemComponent,u=e.item,a=e.displayMode,c=e.summary,l=e.position,d=e.listName,s=e.preferredSKU,f=R()().push,v=Object(b.useSearchPage)().searchQuery,m=Object(r.useMemo)((function(){return h.a.mapCatalogProductToProductSummary(u,s)}),[u,s]),p=Object(r.useCallback)((function(){var e,t;f({event:"productClick",product:m,query:null===(e=null==v?void 0:v.variables)||void 0===e?void 0:e.query,map:null===(t=null==v?void 0:v.variables)||void 0===t?void 0:t.map,position:l,list:d})}),[m,f,null===(t=null==v?void 0:v.variables)||void 0===t?void 0:t.map,null===(n=null==v?void 0:v.variables)||void 0===n?void 0:n.query,l,d]);return o.a.createElement(i,Object(O.a)({},c,{product:m,displayMode:a,actionOnClick:p,listName:d,position:l}))},g=Object(r.memo)(T),C=["galleryItem"],A=function(e){var t=e.GalleryItemComponent,n=e.displayMode,r=e.itemsPerRow,i=e.lazyRender,a=e.products,c=e.summary,l=e.currentLayoutName,d=e.rowIndex,s=e.listName,v=e.preferredSKU,p=f()(C),E={flexBasis:"".concat(100/r,"%"),maxWidth:"".concat(100/r,"%")},y=Object(w.a)({lazyRender:i,offset:900}),b=y.hasBeenViewed,_=y.dummyElement;return b?o.a.createElement(o.a.Fragment,null,a.map((function(e,i){var a=d*r+i+1;return o.a.createElement("div",{key:e.cacheId,style:E,className:u()(m()(p.galleryItem,[n,l]),"pa4")},o.a.createElement(g,{GalleryItemComponent:t,item:e,summary:c,displayMode:n,position:a,listName:s,preferredSKU:v}))}))):_},j=Object(r.memo)(A),I=n(26),P=n(80),Y=n(11),U=n(52),x=n(53),G=["gallery"],M=c.a.ProductListProvider,N=_.a.useSearchPageState,F=_.a.useSearchPageStateDispatch;t.default=function(e){var t,n=e.layouts,i=e.lazyItemsRemaining,a=e.products,c=e.showingFacets,l=e.summary,s=e.preferredSKU,v=e.slots,p=(Object(r.useContext)(I.a)||{}).trackingId,b=f()(G),_=Object(y.useRuntime)().getSettings,w=N().selectedGalleryLayout,O=F(),S=Object(U.a)(),h=Object(x.a)(null!=S?S:[],{matchFt:!0}).trim(),L=p||h||"Search result";Object(r.useEffect)((function(){O({type:Y.SET_GALLERY_LAYOUTS_TYPE,args:{galleryLayouts:n}})}),[n,O]);var R=Object(r.useMemo)((function(){var e;return w?e=n.find((function(e){return e.name===w})):console.error("No default gallery layout defined. Set it in search-result-layout by using the defaultGalleryLayout prop."),e||(e=n[0],O({type:Y.SWITCH_GALLERY_LAYOUT_TYPE,args:{selectedGalleryLayout:n[0].name,focus:!1}})),e}),[w,n,O]),T=E()(R.itemsPerRow),g=Object(r.useMemo)((function(){for(var e=[],t=0;t*T<a.length;){var n=t*T,r=(t+1)*T;e.push(a.slice(n,r)),t++}return e}),[T,a]);if(!n||0===n.length)return null;if(!v[R.component])return console.error('Define a Slot with name "'.concat(R.component,'" for the layout "').concat(R.name,'".')),null;var C=u()(m()(b.gallery,R.name),"flex flex-row flex-wrap items-stretch bn ph1 na4",c?"pl9-l":"justify-center"),A=null===(t=_("vtex.store"))||void 0===t?void 0:t.enableSearchRenderingOptimization;return o.a.createElement(M,{listName:L},o.a.createElement("div",{id:"gallery-layout-container",className:C},g.map((function(e,t){return o.a.createElement(j,{key:"".concat(R.name,"-").concat(t),products:e,lazyRender:!!A&&t>=2,summary:l,displayMode:"normal",itemsPerRow:T,currentLayoutName:R.name,rowIndex:t,listName:L,preferredSKU:s,GalleryItemComponent:v[R.component]})})),"number"==typeof i&&i>0&&o.a.createElement("div",{style:{width:"100%",height:300*Math.ceil(i/T)},className:"flex justify-center pt10"},o.a.createElement(d.a,null))),o.a.createElement(P.a,null))}},25:function(e,t,n){"use strict";var r=n(0),o=Object(r.createContext)({lol:"a"});t.a=o},26:function(e,t,n){"use strict";var r=n(0),o=Object(r.createContext)({});t.a=o},52:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6);function o(){var e,t,n,o,i=Object(r.useSearchPage)().searchQuery;return(null===(t=null===(e=null==i?void 0:i.data)||void 0===e?void 0:e.productSearch)||void 0===t?void 0:t.breadcrumb)||(null===(o=null===(n=null==i?void 0:i.data)||void 0===n?void 0:n.facets)||void 0===o?void 0:o.breadcrumb)}},53:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),o=n(0),i=n(25);var u=function(e,t){if(function(e){return"b"===e[0]}(e))return 0;if(t){var n=e.findIndex((function(e){return"ft"===e}));if(n>=0)return n}var o=e.findIndex((function(e){return"productClusterIds"===e}));return o>=0?o:function(e){var t=Object(r.a)(e).reverse().findIndex((function(e){return"c"===e||e.startsWith("category-")}));return-1===t?t:e.length-1-t}(e)};function a(e,t){var n,r,a=Object(o.useContext)(i.a).map,c=Boolean(null==t?void 0:t.matchFt),l=Object(o.useMemo)((function(){if(!a)return-1;var e=a.split(",");return u(e,c)}),[a,c]),d="";return l>=0?d=null!==(n=function(e,t){var n;return null===(n=t[e])||void 0===n?void 0:n.name}(l,e))&&void 0!==n?n:"":(null==t?void 0:t.fallbackToLastName)&&(d=null!==(r=function(e){var t;if(0!==e.length)return null===(t=e[e.length-1])||void 0===t?void 0:t.name}(e))&&void 0!==r?r:""),Object(o.useMemo)((function(){try{return decodeURIComponent(d)}catch(e){return d}}),[d])}},54:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(8),o=n(0),i=n.n(o),u=function(e){var t=e.lazyRender,n=void 0!==t&&t,u=e.height,a=void 0===u?400:u,c=e.offset,l=void 0===c?200:c,d=e.waitForUserInteraction,s=void 0===d||d,f=Object(o.useRef)(null),v=Object(o.useState)(!1),m=Object(r.a)(v,2),p=m[0],E=m[1];return function(e){var t=e.ref,n=e.onView,i=e.threshold,u=void 0===i?0:i,a=e.once,c=void 0!==a&&a,l=e.bailOut,d=void 0!==l&&l,s=e.initializeOnInteraction,f=void 0!==s&&s,v=Object(o.useRef)(!1),m=Object(o.useRef)(!1);Object(o.useEffect)((function(){var e,o,i=function(){var e=t.current;if(d||v.current||!e||!n||c&&m.current)return function(){};v.current=!0;var o=function(){v.current&&(i.unobserve(e),v.current=!1)},i=new IntersectionObserver((function(e){var t=Object(r.a)(e,1)[0];t.isIntersecting&&(t.intersectionRatio<u||(c&&o(),m.current=!0,n({entry:t,unobserve:o})))}));return i.observe(e),o};if(f){var a=function(){var e,t;null===(e=null===window||void 0===window?void 0:window.document)||void 0===e||e.removeEventListener("scroll",s),null===(t=null===window||void 0===window?void 0:window.document)||void 0===t||t.removeEventListener("mouseover",s)},l=function(){a()},s=function(){a(),l=i()};return window.pageYOffset>0&&s(),null===(e=null===window||void 0===window?void 0:window.document)||void 0===e||e.addEventListener("scroll",s),null===(o=null===window||void 0===window?void 0:window.document)||void 0===o||o.addEventListener("mouseover",s),l}return i()}),[d,f,n,c,t,u])}({ref:f,onView:function(){return E(!0)},once:!0,initializeOnInteraction:s,bailOut:!n}),{hasBeenViewed:p||!n,dummyElement:i.a.createElement("div",{style:{width:"100%",height:a,position:"relative"}},i.a.createElement("div",{ref:f,style:{top:-l,bottom:0,left:0,right:0,position:"absolute"}}))}}},80:function(e,t,n){"use strict";var r=n(69),o=n.n(r);t.a=function(){return o()(),null}}}]);