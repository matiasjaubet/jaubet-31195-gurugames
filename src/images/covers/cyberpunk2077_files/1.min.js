(window.webpackJsonpvtex_search_result_3_117_3=window.webpackJsonpvtex_search_result_3_117_3||[]).push([[1],{10:function(e,t,r){e.exports={container:"vtex-search-result-3-x-container",buttonShowMore:"vtex-search-result-3-x-buttonShowMore",filterTitleSpan:"vtex-search-result-3-x-filterTitleSpan",clearAllFilters:"vtex-search-result-3-x-clearAllFilters",switch:"vtex-search-result-3-x-switch",breadcrumb:"vtex-search-result-3-x-breadcrumb",richTitle:"vtex-search-result-3-x-richTitle",filters:"vtex-search-result-3-x-filters",filter__container:"vtex-search-result-3-x-filter__container",resultGallery:"vtex-search-result-3-x-resultGallery",gallery:"vtex-search-result-3-x-gallery",galleryTitle:"vtex-search-result-3-x-galleryTitle",filterPopupButton:"vtex-search-result-3-x-filterPopupButton",accordionFilter:"vtex-search-result-3-x-accordionFilter",filterAccordionItemBox:"vtex-search-result-3-x-filterAccordionItemBox",filterAccordionBreadcrumbs:"vtex-search-result-3-x-filterAccordionBreadcrumbs",filterButtonsBox:"vtex-search-result-3-x-filterButtonsBox",filterPopupFooter:"vtex-search-result-3-x-filterPopupFooter",accordionFilterItemOptions:"vtex-search-result-3-x-accordionFilterItemOptions",dropdownMobile:"vtex-search-result-3-x-dropdownMobile",accordionFilterItemActive:"vtex-search-result-3-x-accordionFilterItemActive",totalProducts:"vtex-search-result-3-x-totalProducts",orderBy:"vtex-search-result-3-x-orderBy",filterPopupTitle:"vtex-search-result-3-x-filterPopupTitle",filterPopupArrowIcon:"vtex-search-result-3-x-filterPopupArrowIcon",filterPopup:"vtex-search-result-3-x-filterPopup",filterPopupOpen:"vtex-search-result-3-x-filterPopupOpen",filterPopupContent:"vtex-search-result-3-x-filterPopupContent",filterPopupContentContainer:"vtex-search-result-3-x-filterPopupContentContainer",filterPopupContentContainerOpen:"vtex-search-result-3-x-filterPopupContentContainerOpen",orderByOptionsContainer:"vtex-search-result-3-x-orderByOptionsContainer",orderByOptionItem:"vtex-search-result-3-x-orderByOptionItem",sidebar:"vtex-search-result-3-x-sidebar",filterTitle:"vtex-search-result-3-x-filterTitle",filterQuantityBadgeDefault:"vtex-search-result-3-x-filterQuantityBadgeDefault","filters--layout":"vtex-search-result-3-x-filters--layout","buttonShowMore--layout":"vtex-search-result-3-x-buttonShowMore--layout","galleryTitle--layout":"vtex-search-result-3-x-galleryTitle--layout","totalProducts--layout":"vtex-search-result-3-x-totalProducts--layout","orderBy--layout":"vtex-search-result-3-x-orderBy--layout","container--layout":"vtex-search-result-3-x-container--layout","notFound--layout":"vtex-search-result-3-x-notFound--layout"}},55:function(e,t,r){"use strict";r.d(t,"b",(function(){return f}));var a=r(8),c=r(0),o=r.n(c),n=r(15),u=r.n(n),s=r(3),l=r.n(s),i=r(5),p=r(6),h=["buttonShowMore","showingProducts","showingProductsCount"];function f(e){return e&&e.variables&&!function(e){if(!e||"b"===e||"brand"===e)return!0;var t=e.split(",");return!(t.length>3)&&t.every((function(e){return"c"===e}))}(e.variables.map)?"&map=".concat(e.variables.map):""}t.a=function(e){var t=e.products,r=e.to,n=e.recordsFiltered,s=e.onFetchMore,x=e.loading,d=e.showProductsCount,v=e.nextPage,b="a"===e.htmlElementForButton,g=function(e,t,r,o){var n=Object(c.useState)(!!t&&Math.max(e+1,t.length)<o),u=Object(a.a)(n,2),s=u[0],l=u[1];return Object(c.useEffect)((function(){r||l(!!t&&Math.max(e+1,t.length)<o)}),[e,t,r,o]),s}(r,t,x,n),O=l()(h),m=Object(p.useSearchPage)().searchQuery;return o.a.createElement(c.Fragment,null,o.a.createElement("div",{className:"".concat(O.buttonShowMore," w-100 flex justify-center")},g&&o.a.createElement(u.a,{onClick:function(e){return function(e){b&&e.preventDefault(),s()}(e)},href:b&&"?page=".concat(v).concat(f(m)),rel:b&&"next",isLoading:x,size:"small",key:r},o.a.createElement(i.FormattedMessage,{id:"store/search-result.show-more-button"}))),d&&n&&o.a.createElement("div",{className:"".concat(O.showingProducts," tc t-small pt3 c-muted-2 mt2")},o.a.createElement(i.FormattedMessage,{id:"store/search-result.showing-products",tagName:"span",values:{value:o.a.createElement("span",{className:"".concat(O.showingProductsCount," b")},o.a.createElement(i.FormattedMessage,{id:"store/search-result.showing-products-count",values:{productsLoaded:t.length,total:n}}))}})))}},56:function(e,t,r){"use strict";var a=r(6),c=r(1);t.a=function(){var e=Object(a.useSearchPage)().searchQuery;return{fuzzy:Object(c.path)(["data","productSearch","fuzzy"],e),operator:Object(c.path)(["data","productSearch","operator"],e),searchState:Object(c.path)(["data","productSearch","searchState"],e)}}},70:function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var a=r(8),c=r(47),o=r.n(c),n=r(12),u=r(74),s=r(13),l=r(0),i=r(1),p=r(7),h=r(6),f=r(56);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v="next",b="previous";function g(e,t){var r=t.args,a=r.maxItemsPerPage,c=r.to,o=r.from,n=r.rollbackState;switch(t.type){case"RESET":return{page:1,nextPage:2,previousPage:0,from:0,to:a-1};case"NEXT_PAGE":return d(d({},e),{},{page:e.nextPage,nextPage:e.nextPage+1,to:c});case"PREVIOUS_PAGE":return d(d({},e),{},{page:e.previousPage,previousPage:e.previousPage-1,from:o});case"ROLLBACK":return n}}var O=function(){var e=Object(u.a)(o.a.mark((function e(t,r,a,c,u,s,l,i,p,h,f){var x;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.current&&0!==l.length){e.next=2;break}return e.abrupt("return");case 2:return x=a===v,c.current=!0,u(!0),e.abrupt("return",s({variables:{from:t,to:r,fuzzy:p,operator:h,searchState:f},updateQuery:function(e,t){var r=t.fetchMoreResult;if(u(!1),c.current=!1,l&&r)return e&&e.search?{search:d(d({},e.search),{},{products:x?[].concat(Object(n.a)(e.search.products),Object(n.a)(r.search.products)):[].concat(Object(n.a)(r.search.products),Object(n.a)(e.search.products))})}:d(d({},r),{},{productSearch:d(d({},r.productSearch),{},{products:x?[].concat(Object(n.a)(l),Object(n.a)(r.productSearch.products)):[].concat(Object(n.a)(r.productSearch.products),Object(n.a)(l))})});i.current=!0}}).catch((function(e){return u(!1),c.current=!1,i.current=!0,{error:e}})));case 6:case"end":return e.stop()}}),e)})));return function(t,r,a,c,o,n,u,s,l,i,p){return e.apply(this,arguments)}}(),m=function(e){var t=e.page,r=e.maxItemsPerPage,c=e.fetchMore,n=e.products,s=e.queryData,x=s.query,d=s.map,m=s.orderBy,P=s.priceRange,y=Object(p.useRuntime)(),j=y.setQuery,S=y.query,w=Object(f.a)(),E=w.fuzzy,B=w.operator,F=w.searchState,C=S.page&&Number(S.page)||t,M={page:C,nextPage:C+1,previousPage:C-1,from:(t-1)*r,to:C*r-1},_=Object(l.useReducer)(g,M),I=Object(a.a)(_,2),T=I[0],A=I[1],k=function(){var e=Object(l.useState)(!1),t=Object(a.a)(e,2),r=t[0],c=t[1],o=Object(h.useSearchPageState)().isFetchingMore,n=Object(h.useSearchPageStateDispatch)();return[null==o?r:o,Object(l.useCallback)((function(e){n({type:"SET_FETCHING_MORE",args:{isFetchingMore:e}}),c(e)}),[n])]}(),R=Object(a.a)(k,2),z=R[0],D=R[1],N=Object(l.useRef)(!0),L=Object(l.useRef)(!1),G=Object(l.useState)(!1),Q=Object(a.a)(G,2),q=Q[0],K=Q[1],J=Object(l.useRef)(!1);return Object(l.useEffect)((function(){N.current||A({type:"RESET",args:{maxItemsPerPage:r}}),N.current=!1}),[r,x,d,m,P]),{handleFetchMoreNext:function(){var e=Object(u.a)(o.a.mark((function e(){var t,a,u,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=T,u=T.to+1,s=u+r-1,K(!1),A({type:"NEXT_PAGE",args:{to:s}}),j({page:T.nextPage},{replace:!0}),e.next=8,O(u,s,v,L,D,c,n,J,E,B,null!==(t=sessionStorage.getItem("searchState"))&&void 0!==t?t:F);case 8:if(e.sent&&J.current){e.next=11;break}return e.abrupt("return");case 11:A({type:"ROLLBACK",args:{rollbackState:a}}),j({page:T.page},{replace:!0}),K(!0),J.current=!1;case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),handleFetchMorePrevious:function(){var e=Object(u.a)(o.a.mark((function e(){var t,a,u,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=T,u=T.from-1,s=Object(i.max)(0,u-r+1),K(!1),A({type:"PREVIOUS_PAGE",args:{from:s}}),j({page:T.previousPage},{replace:!0,merge:!0}),e.next=8,O(s,u,b,L,D,c,n,J,E,B,null!==(t=sessionStorage.getItem("searchState"))&&void 0!==t?t:F);case 8:if(e.sent&&J.current){e.next=11;break}return e.abrupt("return");case 11:A({type:"ROLLBACK",args:{rollbackState:a}}),j({page:T.page},{replace:!0,merge:!0}),K(!0),J.current=!1;case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),loading:z,from:T.from,to:T.to,nextPage:T.nextPage,previousPage:T.previousPage,infiniteScrollError:q}}}}]);